객체에 대한 신뢰가 있어야한다. 과연 NULL을 반환하는 객체는 신뢰가 있다고 볼 수 있을까?

하지만 설계자들은 exception을 던지는 대신 NULL을 반환하게 했을까? 그것은 빠르게 실패하기 원칙을 몰랐기 떄문이라고 추측한다.

### 빠르게 실패하기 vs 안전하게 실패하기

**안전하게 실패하기**는 버그, 입출력 문제, 메모리 오버플로우 등이 발생한 상황에서도 소프트웨어가 계속 실행될 수 있도록 최대한 많은 노력을 기울일 것을 권장한다. 그러므로 NULL을 반환하는 방법도 일종의 생존 기법이라 볼 수 있다.

**빠르게 실패하기**는 일단 문제가 발생하면 곧바로 실행을 중단하고 최대한 빨리 예외를 던진다. 결과에 대해서는 걱정하지 않는다. 즉, 모든 실패 지점이 명확해질 수 있는 이익을 얻을 수 있다.

즉, 에러를 발견하는 동시에 에러를 대처하는 방법(빠르게 실패하기)을 필자는 더욱 선호한다.

 ****

### NULL 의 대안

개인적으로 가장 null 대응하기 힘들었던 부분은 데이터베이스에서 `List<User>` 를 찾아오는 경우였다. 값을 하나만 가져오는 경우에는 `Optional<T>` 을 사용할 수 있지만 `List` 를 가져올 때는 이 방법을 사용하기 힘들다. 이를 위한 코드이다.

```java
public Collection<User> users(String name) {
	if (/* 데이터베이스에서 발견하지 못했다면 */) {
		return new ArrayList<>(0);
	}
	return Collections.singleton(*/데이터베이스로부터*/);
}
```

만일 null과 비슷한 역할을 하고 싶은 애를 반환하고 싶다면 Null객체를 직접 만들어 사용하자.

```java
class NullUser implements User {
	@Override
	public void raise(Cash salary) {
		throw new IllegatStateException("봉급 인상 불가능! null입니다.");
	}
}
```

### 느낀점
완전 동의하는 장이다!!!
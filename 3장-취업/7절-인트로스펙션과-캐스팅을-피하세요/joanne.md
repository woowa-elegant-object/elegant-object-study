# 3.7 인트로스펙션과 캐스팅을 피하세요.

What is Introspection?
빈의 프로퍼티와 메소드 등을 알려주기 위해 빈의 디자인 패턴을 자동으로 분석하는 과정

객체의 클래스, 구현 메소드, 필드 등의 객체 정보를 조사하는 과정을 의미한다. 
<p></p>
- 참고 : http://eclian.sys4u.co.kr/wp-content/uploads/2012/12/Java-Reflection-Introspection_SYS4U-IC.pdf
<p></p>
What is TypeCasting?
타입캐스팅이란, 형변환을 말한다. 
<p></p>
모두 **런타임에 객체의 클래스를 확인하는 데 사용된다**.
하지만 이는 모두 안티패턴이므로 사용하면 안된다.
방문한 객체에 대한 기대를 문서에 명시적으로 기록하지 않은 채 외부에 노출시킨 것과 같기 때문이다. 
또한 런타임에 객체의 상태를 확인하므로 소스코드를 확인해야만 그 객체가 어떤 타입으로 형변환되었는지 파악할 수 있어 유지보수하는 것이 매우 어렵다.

## 의견
이전 상태 패턴을 쓸 때 현재 상태가 Blackjack인지, Hit인지 확인하기 위해 if (state instanceof Blackjack) 과 같은 코드를 작성한 적이 있다. 이런 경우에는 런타임에 객체를 비교할 수 있어 좋았으나 어떻게 작성하느냐에 따라 다른 결과를 낼 때도 있었다. 따라서 OOP도 만족시킬 수 있도록 상태에게 너 지금 어떤 상태이니?라고 물어보는 코드로 바꿨던 기억이 난다.
아무튼, 난 타입캐스팅이나 형변환은 사용하지 말자!에 한표이지만, 상속 관계에 있을 때 upcasting은 사용해도 되지 않을까...? 
<p></p>
- 참고 : https://madplay.github.io/post/java-upcasting-and-downcasting
